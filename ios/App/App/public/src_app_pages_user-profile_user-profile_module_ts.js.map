{"version":3,"file":"src_app_pages_user-profile_user-profile_module_ts.js","mappings":"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","sources":["./src/app/components/event-item/event-item.component.ts","./src/app/pages/user-profile/user-profile-routing.module.ts","./src/app/pages/user-profile/user-profile.module.ts","./src/app/pages/user-profile/user-profile.page.ts"],"sourcesContent":["import {Component, HostListener, Input, OnInit} from '@angular/core';\r\nimport {Event} from 'src/app/models/classes/event.model';\r\nimport {Share} from '@capacitor/share';\r\n\r\n@Component({\r\n  selector: 'app-event-item',\r\n  templateUrl: './event-item.component.html',\r\n  styleUrls: ['./event-item.component.scss'],\r\n})\r\nexport class EventItemComponent{\r\n  @Input() event: Event;\r\n  windowWithOver800: boolean;\r\n\r\n  constructor() {\r\n    this.onResize(undefined);\r\n  }\r\n\r\n  @HostListener('window:resize', ['$event'])\r\n  onResize(event) {\r\n    this.windowWithOver800 = window.innerWidth > 800;\r\n  }\r\n\r\n\r\n\r\n  getPrice(event: Event): string{\r\n    if(event.price === '0' || event.price === undefined || event.price === null){\r\n      event.price = 'Kostenlos';\r\n      return event.price;\r\n    }\r\n    return event.price;\r\n  }\r\n\r\n\r\n  async shareEvent(){\r\n    const msgText = 'Hallo,\\n';\r\n    Share.canShare().then(canShare => {\r\n      if(canShare.value){\r\n        Share.share({\r\n          title: 'Juntos Event',\r\n          text: msgText,\r\n          dialogTitle: 'Event teilen'\r\n        }).then((v) => console.log('ok: ', v))\r\n            .catch(err => console.log(err));\r\n      } else {\r\n        console.log('Error: Sharing not available!');\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { UserProfilePage } from 'src/app/pages/user-profile/user-profile.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: UserProfilePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class UserProfilePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { UserProfilePageRoutingModule } from 'src/app/pages/user-profile/user-profile-routing.module';\r\n\r\nimport { UserProfilePage } from 'src/app/pages/user-profile/user-profile.page';\r\nimport {EventItemComponent} from 'src/app/components/event-item/event-item.component';\r\nimport {SharedModule} from 'src/app/shared/shared.module';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        IonicModule,\r\n        UserProfilePageRoutingModule,\r\n        SharedModule\r\n    ],\r\n    declarations: [UserProfilePage, EventItemComponent]\r\n})\r\nexport class UserProfilePageModule {}\r\n","import {ChangeDetectorRef, Component, OnDestroy, OnInit} from '@angular/core';\r\nimport { Location } from '@angular/common';\r\nimport {UserDataService} from 'src/app/services/user-data.service';\r\nimport {Router} from '@angular/router';\r\nimport {EventService} from 'src/app/services/event.service';\r\nimport { Event } from 'src/app/models/classes/event.model';\r\nimport {Platform, MenuController } from '@ionic/angular';\r\nimport User from 'src/app/models/classes/user';\r\nimport { Subscription } from 'rxjs';\r\nimport {FriendsService} from \"src/app/services/friends.service\";\r\nimport friendButtonIndicator from \"src/app/models/enums/friendButtonIndicator\";\r\nimport {NotificationService} from \"src/app/services/notification.service\";\r\nimport {AlertService} from \"src/app/services/alert.service\";\r\nimport {AuthService} from \"../../services/auth.service\";\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-user-profile',\r\n  templateUrl: './user-profile.page.html',\r\n  styleUrls: ['./user-profile.page.scss'],\r\n})\r\nexport class UserProfilePage implements OnInit, OnDestroy {\r\n\r\n  public userLoaded: boolean;\r\n  private currentUserId;\r\n  private readonly profileUserId;\r\n  private currentLocation: Location;\r\n  private userSubscription: Subscription;\r\n  private currentUserSubscription: Subscription;\r\n  ownProfile: boolean;\r\n  isDesktop: boolean;\r\n  user;\r\n  eventAndBadgesIndicator;\r\n  events: Event[];\r\n  socialPointsCalculated;\r\n  isFriends: boolean;\r\n  followFriendsIndicator: friendButtonIndicator;\r\n  followFriendsIcon: string;\r\n  friendIds: any[] = [];\r\n\r\n\r\n  constructor(private location: Location, private userDataService: UserDataService, public router: Router,\r\n              private eventService: EventService, private platform: Platform, private friendService: FriendsService,\r\n              private notificationService: NotificationService, private alertService: AlertService,\r\n              public menu: MenuController, private auth: AuthService) {\r\n    this.followFriendsIndicator = undefined;\r\n    this.isFriends = false;\r\n    this.currentLocation = location;\r\n    this.profileUserId = this.currentLocation.path().split('/').pop();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.eventAndBadgesIndicator = 'events';\r\n    this.isDesktop = !(this.platform.is('mobileweb') || this.platform.is('ios') || this.platform.is('android') ||\r\n        this.platform.is('iphone'));\r\n    this.loadUser()\r\n        .then(() => {\r\n          //TODO: calculate points korrekt kalkulieren wenn Badges implementiert wurden!\r\n        });\r\n\r\n  }\r\n\r\n\r\n  ngOnDestroy() {\r\n    this.userSubscription.unsubscribe();\r\n  }\r\n\r\n  async loadUser() {\r\n    try {\r\n      this.currentUserId = await this.userDataService.getCurrentUserID();\r\n      this.ownProfile = this.location.isCurrentPathEqualTo('/profile/' + this.currentUserId);\r\n      this.userSubscription = await this.userDataService.getUserById_Observable(this.profileUserId).subscribe(\r\n          async (userData) => {\r\n            if (userData) {\r\n              this.user = await userData as unknown as User;\r\n              this.socialPointsCalculated = `${0 + '.'}${this.user.socialPoints}`;\r\n              this.userLoaded = true;\r\n              this.getFriends();\r\n              this.getAttendedEvents();\r\n              //onStorageChange updates addfriendbutton text and frienship status\r\n              await this.checkFrienshipStatus();\r\n            } else {\r\n              throw new Error('Nutzer konnte nicht geladen werden');\r\n            }\r\n          }\r\n      );\r\n    } catch (e) {\r\n      console.log(e);\r\n      await this.router.navigate(['/login']);\r\n    }\r\n  }\r\n\r\n  getFriends() {\r\n    this.friendIds = this.user.friends;\r\n  }\r\n\r\n  async checkFrienshipStatus() {\r\n    try {\r\n      if (this.currentUserId) {\r\n        if (!this.ownProfile) {\r\n          this.currentUserSubscription = this.userDataService.getUserById_Observable(this.currentUserId).subscribe(async () => {\r\n            this.isFriends = await this.friendService.isUserFriendWith(this.profileUserId);\r\n            await this.determineFollowFriendsIndicator();\r\n          })\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  getAttendedEvents() {\r\n    if (this.user.registeredEvents) {\r\n      const attendedEventIds = this.user.registeredEvents.reduce((attendedEventIds, event) => {\r\n        if (event.ticket) {\r\n          attendedEventIds.push(event.eventId);\r\n        }\r\n        return attendedEventIds;\r\n      }, []);\r\n      this.eventService.getMultipleEventsByEventId(attendedEventIds).forEach(\r\n          (eventDocs: any[]) => {\r\n            this.events = eventDocs;\r\n          }\r\n      );\r\n    }\r\n  }\r\n\r\n  async determineFollowFriendsButtonFunction(indicator) {\r\n    //let outlinedIcon = this.followFriendsIcon;\r\n    try {\r\n      switch (indicator.followFriendsIndicator) {\r\n        case 0:\r\n          //this.followFriendsIcon = 'person-add';\r\n          await this.notificationService.createNotification(3, this.profileUserId).then(\r\n              () => {\r\n\r\n              }\r\n          );\r\n          break;\r\n        case 1:\r\n          //this.followFriendsIcon = 'person-remove';\r\n          await this.friendService.unfriendUser(this.profileUserId)\r\n              .then((result) => {\r\n                console.log(result);\r\n              })\r\n          break;\r\n        case 2:\r\n          //this.followFriendsIcon = 'person-add';\r\n          await this.friendService.followOrganizer(this.profileUserId)\r\n              .then((result) => {\r\n                console.log(result)\r\n              })\r\n          break;\r\n        case 3:\r\n          //this.followFriendsIcon = 'person-remove';\r\n          await this.friendService.unfollowOrganizer(this.profileUserId)\r\n              .then((result) => {\r\n                console.log(result);\r\n              });\r\n          break;\r\n      }\r\n    } catch (e) {\r\n    }\r\n  }\r\n\r\n  openMenu() {\r\n    console.log('open')\r\n    this.menu.enable(true, 'first');\r\n    this.menu.open('first').then(r => {\r\n      'it is opens'\r\n    }).catch(e => {\r\n      console.log(e)\r\n    });\r\n  }\r\n\r\n  openFriendlist() {\r\n    this.friendService.openFriendlistModal(this.friendIds);\r\n  }\r\n\r\n  /**\r\n   * followFriendsIndicator: 0=befriend; 1=unfriend; 2=follow; 3=unfollow\r\n   */\r\n  async determineFollowFriendsIndicator() {\r\n    let isNormalUser = await this.userDataService.getCurrentUserRole();\r\n    if (isNormalUser === 0 || isNormalUser === 2) {\r\n      if (this.user.rights === 0 || this.user.rights === 2) {\r\n        if (this.isFriends) {\r\n          this.followFriendsIndicator = 1;\r\n          this.followFriendsIcon = 'person-remove-outline';\r\n        } else {\r\n          this.followFriendsIndicator = 0;\r\n          this.followFriendsIcon = 'person-add-outline';\r\n        }\r\n      } else {\r\n        if (this.isFriends) {\r\n          this.followFriendsIndicator = 3;\r\n          this.followFriendsIcon = 'person-remove-outline';\r\n        } else {\r\n          this.followFriendsIndicator = 2;\r\n          this.followFriendsIcon = 'person-add-outline';\r\n        }\r\n      }\r\n    } else {\r\n      this.followFriendsIndicator = undefined;\r\n    }\r\n  }\r\n\r\n  switchProfileEventAndBadges(event: any) {\r\n    console.log('Segment changed', event);\r\n    }\r\n\r\n\r\n\r\n\r\n  openNotifications($event) {\r\n    this.notificationService.presentPopover($event);\r\n  }\r\n\r\n  logOut() {\r\n    this.auth.signOut()\r\n  }\r\n}\r\n\r\n\r\n"],"names":[],"sourceRoot":"webpack:///"}